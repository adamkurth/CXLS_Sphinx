
<!DOCTYPE html>

<html lang="en">
<head>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta charset="utf-8"/>
<meta content="Docutils 0.17.1: http://docutils.sourceforge.net/" name="generator"/>
<title>Water Background Subtraction Project (Main) | CXLS Sphinx  documentation</title>
<link href="_static/pygments.css" rel="stylesheet"/>
<link href="_static/theme.313ea551d1799b2102b1.css" rel="stylesheet"/>
<link href="search.html" rel="search" title="Search"/>
<link href="genindex.html" rel="index" title="Index"/>
<link href="stream_background_subtraction.html" rel="next" title="Water Background Subtraction Project (Stream)"/>
<link href="index.html" rel="prev" title="Welcome to CXLS GitPages Documentation!"/>
</head>
<body class="antialiased text-gray">
<div class="h-screen xl:grid xl:grid-layout" data-action="keydown@window-&gt;search#focus" data-controller="sidebar search" id="page">
<a class="block text-xl bg-white py-4 z-20 absolute top-0 h-18 inset-x-0 text-center transform -translate-y-full focus:translate-y-0 focus:outline-none transition-transform duration-75" href="#water-background-subtraction-project-main" title="Skip navigation links">Skip to content</a>
<header class="grid-area-header z-10 h-14 sm:h-18">
<div class="bg-gray-dark shadow-md flex items-center h-full xl:px-2 relative"><div class="flex items-center">
<button class="xl:hidden h-14 w-14 sm:h-18 sm:w-18 leading-14 sm:leading-18 text-gray-100 hover:bg-gray-700 hover:text-brand focus:outline-none focus:bg-gray-700 focus:text-brand" data-action="sidebar#open" data-sidebar-target="hamburger">
<span class="sr-only">Open navigation menu</span>
<svg aria-hidden="true" class="fill-current h-8 w-8" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg>
</button><a aria-label="Back to homepage" class="hover:bg-gray-700 focus:bg-gray-700 focus:outline-none tooltipped tooltipped-sw" href="index.html"><span class="hidden lg:inline-block shrink-0 font-medium text-gray-100 mx-5 leading-14 sm:leading-18 tracking-wider">CXLS Sphinx  documentation</span>
</a></div><div class="flex justify-end items-center flex-1"><form action="search.html" class="flex print:hidden justify-between items-center leading-14 sm:leading-18 md:ml-4 bg-gray-dark text-gray-300 focus-within:bg-gray-50 focus-within:text-gray-800 focus-within:absolute focus-within:inset-x-0 focus-within:top-0 md:focus-within:w-full md:focus-within:static" data-action="click-&gt;search#focusSearchInput" id="searchbox" method="get">
<button aria-label="Get search results" class="text-inherit h-14 w-14 sm:h-18 sm:w-18" tabindex="-1">
<svg aria-hidden="true" class="fill-current stroke-current h-8 w-8" stroke-width="0.5" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg>
</button>
<input aria-label="Search the docs" class="pr-2 bg-transparent text-inherit focus:outline-none w-0 md:w-auto focus:w-full transition-all duration-100" data-search-target="searchInput" id="search-input" name="q" placeholder="Search the docs" type="search"/>
</form></div>
</div>
</header>
<aside class="grid-area-sidebar h-full fixed xl:relative inset-y-0 left-0 z-20 xl:z-0 print:hidden overflow-y-auto transition-all transform transform-gpu -translate-x-full opacity-0 duration-300 xl:translate-x-0 xl:opacity-100" data-sidebar-target="sidebar">
<nav class="h-full overflow-y-auto bg-white text-gray-600 pt-8 flex flex-col" role="navigation">
<div class="nav-toc flex-1 pl-6"><p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current expanded"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="current reference internal" data-action="click-&gt;sidebar#close" href="#">Water Background Subtraction Project (Main)</a></div><ul>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="#imports">Imports</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="#peakthresholdprocessor-class">PeakThresholdProcessor Class</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="#arrayregion-class">ArrayRegion Class</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="#helper-functions">Helper Functions</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="#coordinate-menu-function">Coordinate Menu Function</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="#main-function">Main Function</a></div></li>
</ul>
</li>
<li class="toctree-l1"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="stream_background_subtraction.html">Water Background Subtraction Project (Stream)</a></div><ul>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="stream_background_subtraction.html#imports">Imports</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="stream_background_subtraction.html#peakthresholdprocessor-class">PeakThresholdProcessor Class</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="stream_background_subtraction.html#arrayregion-class">ArrayRegion Class</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="stream_background_subtraction.html#helper-functions">Helper Functions</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="stream_background_subtraction.html#coordinate-menu-function">Coordinate Menu Function</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="stream_background_subtraction.html#load-stream-function">Load Stream Function</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="stream_background_subtraction.html#main-function">Main Function</a></div></li>
</ul>
</li>
<li class="toctree-l1"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="overwrite_background_subtraction.html">Water Background Subtraction (Overwrite)</a></div><ul>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="overwrite_background_subtraction.html#imports">Imports</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="overwrite_background_subtraction.html#duplicate-function">Duplicate Function</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="overwrite_background_subtraction.html#debugging-functions">Debugging Functions</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="overwrite_background_subtraction.html#overwrite-function">Overwrite Function</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="overwrite_background_subtraction.html#intenstity-finder-function">Intenstity Finder Function</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="overwrite_background_subtraction.html#populate-intensity-array-function">Populate Intensity Array Function</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="overwrite_background_subtraction.html#main-function">Main Function</a></div></li>
</ul>
</li>
</ul>
</div>
<button class="text-4xl text-gray-800 p-4 bottom-0 hover:text-brand xl:hidden focus:text-brand self-center" data-action="" title="Close navigation menu">
<span class="sr-only">Close navigation menu</span>
<svg aria-hidden="true" class="fill-current stroke-current h-6 w-6" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</aside>
<main class="px-10 xl:ml-fluid grid-area-main overflow-y-auto flex flex-col h-full mx-0 md:mx-auto xl:mr-0" data-action="scroll-&gt;scroll#showButton" data-controller="scroll"><nav aria-label="breadcrumbs" class="print:hidden mt-12 text-sm text-gray-light" role="navigation">
<a class="text-gray-light text-sm hover:text-gray-dark font-medium focus:text-gray-dark" href="index.html">CXLS Sphinx  documentation</a>
<span class="mr-1">/</span><span aria-current="page">Water Background Subtraction Project (Main)</span>
</nav>
<article class="flex-1" role="main">
<section id="water-background-subtraction-project-main">
<h1>Water Background Subtraction Project (Main)<a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#water-background-subtraction-project-main">¶</a></h1>
<p>This project is a simple implementation of background subtraction.</p>
<p>Within the project, there are three main project files:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>h5_background_subtraction_10_2_23.py</cite></p></li>
<li><p><cite>h5_stream_background_subtraction_10_2_23.py</cite></p></li>
<li><p><cite>overwrite_10_2_23.py</cite>.</p></li>
</ul>
</div></blockquote>
<p>All of these are found under the <cite>src/</cite> directory. The first file contains the main code for this page, while the others were adaptations on this.</p>
<dl class="simple">
<dt>The GitHub repository for this project can be found at:</dt><dd><ul class="simple">
<li><p><a class="reference external" href="https://github.com/adamkurth/waterbackground_subtraction.git" rel="nofollow noopener">https://github.com/adamkurth/waterbackground_subtraction.git<svg aria-hidden="true" class="external-link-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></svg></a></p></li>
<li><p><a class="reference external" href="https://gitlab.com/amkurth/waterbackground_subtraction.git" rel="nofollow noopener">https://gitlab.com/amkurth/waterbackground_subtraction.git<svg aria-hidden="true" class="external-link-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></svg></a>.</p></li>
</ul>
</dd>
</dl>
<section id="imports">
<h2>Imports<a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imports">¶</a></h2>
<p>The following modules are imported for use in the program:
.. code-block:: python</p>
<blockquote>
<div><p>import os
import numpy as np
import h5py as h5
import matplotlib.pyplot as plt</p>
</div></blockquote>
</section>
<section id="peakthresholdprocessor-class">
<h2>PeakThresholdProcessor Class<a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#peakthresholdprocessor-class">¶</a></h2>
<blockquote>
<div><p>The <a href="#id1"><span class="problematic" id="id2">`</span></a>PeakThresholdProcessor ` class is used for processing the image peak values in the image array, above or at a specified threshold value. This class provides functions for setting and retrieving coordinate values these values.</p>
</div></blockquote>
<p>The following functions are defined in the <cite>PeakThresholdProcessor</cite> class:</p>
<dl class="py class code-definition">
<dt class="sig sig-object py" id="PeakThresholdProcessor">
<em class="property">class<span class="w"> </span></em><code class="sig-name descname">PeakThresholdProcessor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">image_array</span></em>, <em class="sig-param"><span class="n">threshold_value</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#PeakThresholdProcessor">¶</a></dt>
<dd>
<blockquote>
<div><p>Initialize the <cite>PeakThresholdProcessor</cite> with the image array and coordinate threshold value.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_array</strong> (<em>numpy.ndarray</em>) – The image array to be processed.</p></li>
<li><p><strong>threshold_value</strong> (<em>float</em><em>, </em><em>optional</em>) – The threshold value to be used for processing the image array, defaults to 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns coordinate list of x and y values above the threshold value.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><p>list</p>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="PeakThresholdProcessor.set_threshold_value">
<code class="sig-name descname">set_threshold_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">new_threshold_value</span></em><span class="sig-paren">)</span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#PeakThresholdProcessor.set_threshold_value">¶</a></dt>
<dt class="sig sig-object py">
<code class="sig-name descname">Set a new threshold value for the image array.</code></dt>
<dd>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_threshold_value</strong> (<em>float</em>) – The new threshold value to be used for processing the image array.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="PeakThresholdProcessor.get_threshold_value">
<code class="sig-name descname">get_threshold_value</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#PeakThresholdProcessor.get_threshold_value">¶</a></dt>
<dt class="sig sig-object py">
<code class="sig-name descname">Getter method which returns the current threshold value for the image array.</code></dt>
<dd>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The current threshold value for the image array.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>
</p>
</dd>
</dl>
</dd></dl>
</section>
<section id="arrayregion-class">
<h2>ArrayRegion Class<a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#arrayregion-class">¶</a></h2>
<p>The <cite>ArrayRegion</cite> class is used for processing the image array region, using the coordinate values provided. This class provides functions for setting and retrieving coordinate values these values.</p>
<p>The following functions are defined in the <cite>ArrayRegion</cite> class:</p>
<dl class="py class code-definition">
<dt class="sig sig-object py" id="ArrayRegion">
<em class="property">class<span class="w"> </span></em><code class="sig-name descname">ArrayRegion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">array</span></em><span class="sig-paren">)</span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#ArrayRegion">¶</a></dt>
<dd>
<blockquote>
<div><p>The <cite>ArrayRegion</cite> class is used for processing the image array region.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>array</strong> (<em>numpy.ndarray</em>) – The image array to be processed.</p>
</dd>
</dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="ArrayRegion.x_center">
<code class="sig-name descname">x_center</code><em class="property"><span class="p">:</span><span class="w"> </span>int</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#ArrayRegion.x_center">¶</a></dt>
<dt class="sig sig-object py">
<code class="sig-name descname">The x coordinate of the center of the region. First coordinate in tuple.</code></dt>
<dd>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="ArrayRegion.y_center">
<code class="sig-name descname">y_center</code><em class="property"><span class="p">:</span><span class="w"> </span>int</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#ArrayRegion.y_center">¶</a></dt>
<dt class="sig sig-object py">
<code class="sig-name descname">The y coordinate of the center of the region. Second coordinate in tuple.</code></dt>
<dd>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="ArrayRegion.region_size">
<code class="sig-name descname">region_size</code><em class="property"><span class="p">:</span><span class="w"> </span>int</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#ArrayRegion.region_size">¶</a></dt>
<dt class="sig sig-object py">
<code class="sig-name descname">Make region that has radius of size region_size.</code></dt>
<dd>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="ArrayRegion.set_peak_coordinate">
<code class="sig-name descname">set_peak_coordinate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em><span class="sig-paren">)</span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#ArrayRegion.set_peak_coordinate">¶</a></dt>
<dt class="sig sig-object py">
<code class="sig-name descname">Set the x and y coordinates of the center of the region using chosen coordinate.</code></dt>
<dd>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>int</em>) – The x coordinate of the center of the region.</p></li>
<li><p><strong>y</strong> (<em>int</em>) – The y coordinate of the center of the region.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="ArrayRegion.set_region_size">
<code class="sig-name descname">set_region_size</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">size</span></em><span class="sig-paren">)</span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#ArrayRegion.set_region_size">¶</a></dt>
<dt class="sig sig-object py">
<code class="sig-name descname">Make region that is printable for the terminal and has a radius of region_size.</code></dt>
<dd>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>size</strong> (<em>int</em>) – The size of the region radius.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="ArrayRegion.get_region">
<code class="sig-name descname">get_region</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#ArrayRegion.get_region">¶</a></dt>
<dt class="sig sig-object py">
<code class="sig-name descname">Get the region from the image array.</code></dt>
<dd>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The region from the image array.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
</section>
<section id="helper-functions">
<h2>Helper Functions<a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#helper-functions">¶</a></h2>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="load_h5">
<code class="sig-name descname">load_h5</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#load_h5">¶</a></dt>
<dd>
<p>This method loads an HDF5 file and prints a success message if the file is loaded successfully. If the file is not found within the working directory, it prints an error message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The path to the HDF5 file.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="extract_region">
<code class="sig-name descname">extract_region</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">image_array</span></em>, <em class="sig-param"><span class="n">region_size</span></em>, <em class="sig-param"><span class="n">x_center</span></em>, <em class="sig-param"><span class="n">y_center</span></em><span class="sig-paren">)</span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#extract_region">¶</a></dt>
<dd>
<p>This function calls the <cite>ArrayRegion</cite> class to extract the region from the image array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_array</strong> (<em>numpy.ndarray</em>) – The image array to be processed.</p></li>
<li><p><strong>region_size</strong> (<em>int</em>) – The size of the region radius.</p></li>
<li><p><strong>x_center</strong> (<em>int</em>) – The x coordinate of the center of the region.</p></li>
<li><p><strong>y_center</strong> (<em>int</em>) – The y coordinate of the center of the region.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The extracted region from the image array.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>
</section>
<section id="coordinate-menu-function">
<h2>Coordinate Menu Function<a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#coordinate-menu-function">¶</a></h2>
<p><cite>coordinate_menu</cite> is the focus of this program, is used interactively with the user to display the chosen coordiante value. Visualizing the region of the chosen coordinate value, and displaying the average surrounding peak value and the intensity peak value.</p>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="coordinate_menu">
<code class="sig-name descname">coordinate_menu</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">image_array</span></em>, <em class="sig-param"><span class="n">threshold_value</span></em>, <em class="sig-param"><span class="n">coordinates</span></em>, <em class="sig-param"><span class="n">radius</span></em><span class="sig-paren">)</span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#coordinate_menu">¶</a></dt>
<dd>
<p>This function displays the coordinates above the given threshold and radius, and allows the user to interactively select the coordinate for further processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_array</strong> (<em>numpy.ndarray</em>) – The image array to be processed.</p></li>
<li><p><strong>threshold_value</strong> (<em>float</em>) – The thresold value used to determine the coordiantes.</p></li>
<li><p><strong>coordinates</strong> (<em>list</em><em>[</em><em>tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>]</em>) – A tuple list of coordinates (x,y) above the thresold.</p></li>
<li><p><strong>radius</strong> (<em>int</em>) – The radius around each coordinate to be processed.</p></li>
</ul>
</dd>
</dl>
<p>The user is prompted to choose a coordinate. Function displays 9x9 two-dimensional array, the segment, and the boolean array of traversed values. The function then returns the average surrounding peak value and the intensity peak value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The average surrounding peak value and the intensity peak value.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple[float, float]</p>
</dd>
</dl>
<div class="code-wrapper" data-controller="code">
<div class="code-header">
<span class="code-lang">python</span></div>
<div class="highlight"><pre><code><span class="k">def</span> <span class="nf">coordinate_menu</span><span class="p">(</span><span class="n">image_array</span><span class="p">,</span> <span class="n">threshold_value</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">,</span> <span class="n">radius</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Coordinates above given threshold:"</span><span class="p">,</span> <span class="n">threshold_value</span><span class="p">,</span> <span class="s1">'with radius: '</span><span class="p">,</span> <span class="n">radius</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">coordinates</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">. (</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">choice</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Which coordinate do you want to process? (or 'q' to quit)</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">"q"</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">"Exiting"</span><span class="p">)</span>
            <span class="k">break</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">count</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">coordinates</span><span class="p">):</span>
                <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">coordinates</span><span class="p">[</span><span class="n">count</span><span class="p">]</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Processing - (</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">)"</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">'Printing 9x9 two-dimensional array</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>

                <span class="c1"># creates visualization if the array, of chosen peak</span>
                <span class="n">display_region</span> <span class="o">=</span> <span class="n">extract_region</span><span class="p">(</span><span class="n">image_array</span><span class="p">,</span> <span class="n">region_size</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">x_center</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y_center</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">'DISPLAY REGION </span><span class="se">\n</span><span class="s1">'</span><span class="p">,</span> <span class="n">display_region</span><span class="p">,</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>

                <span class="c1"># segment is the area with the given radius that's passed through the function.</span>
                <span class="n">segment</span> <span class="o">=</span> <span class="n">extract_region</span><span class="p">(</span><span class="n">image_array</span><span class="p">,</span> <span class="n">region_size</span><span class="o">=</span><span class="n">radius</span><span class="p">,</span> <span class="n">x_center</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y_center</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>
                <span class="nb">print</span> <span class="p">(</span><span class="s1">'SEGMENT </span><span class="se">\n</span><span class="s1">'</span><span class="p">,</span> <span class="n">segment</span><span class="p">,</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>

                <span class="c1"># returns boolean array of traversed values.</span>
                <span class="n">bool_square</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">segment</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">'BOOLEAN'</span><span class="p">,</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="p">,</span> <span class="n">bool_square</span><span class="p">,</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>

                <span class="n">values_array</span> <span class="o">=</span> <span class="n">extract_region</span><span class="p">(</span><span class="n">image_array</span><span class="p">,</span> <span class="n">region_size</span><span class="o">=</span><span class="n">radius</span><span class="p">,</span> <span class="n">x_center</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y_center</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>

                <span class="k">global</span> <span class="n">avg_values</span><span class="p">,</span> <span class="n">intensity_peak</span>
                <span class="n">total_sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">skipped_point</span> <span class="o">=</span> <span class="kc">None</span><span class="p">;</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">intensity_peak</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">for</span> <span class="n">col_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">values_array</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
                    <span class="k">for</span> <span class="n">row_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">values_array</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
                        <span class="k">if</span> <span class="n">values_array</span><span class="p">[</span><span class="n">row_index</span><span class="p">,</span> <span class="n">col_index</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
                            <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
                            <span class="n">bool_square</span><span class="p">[</span><span class="n">row_index</span><span class="p">,</span> <span class="n">col_index</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
                            <span class="k">if</span> <span class="n">row_index</span> <span class="o">==</span> <span class="n">radius</span> <span class="ow">and</span> <span class="n">col_index</span> <span class="o">==</span> <span class="n">radius</span><span class="p">:</span>
                                <span class="n">skipped_point</span> <span class="o">=</span> <span class="p">(</span><span class="n">row_index</span><span class="p">,</span> <span class="n">col_index</span><span class="p">)</span>
                                <span class="n">intensity_peak</span> <span class="o">=</span> <span class="n">values_array</span><span class="p">[</span><span class="n">row_index</span><span class="p">,</span> <span class="n">col_index</span><span class="p">]</span>
                                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Peak point to be skipped: (</span><span class="si">{</span><span class="n">row_index</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">col_index</span><span class="si">}</span><span class="s1">) '</span><span class="p">,</span> <span class="n">values_array</span><span class="p">[</span><span class="n">radius</span><span class="p">,</span><span class="n">radius</span><span class="p">])</span>
                            <span class="k">elif</span> <span class="nb">abs</span><span class="p">(</span><span class="n">row_index</span> <span class="o">-</span> <span class="n">radius</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">abs</span><span class="p">(</span><span class="n">col_index</span> <span class="o">-</span> <span class="n">radius</span><span class="p">)</span> <span class="o">&lt;=</span><span class="mi">1</span><span class="p">:</span>
                                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'Passed (row, col) (</span><span class="si">{</span><span class="n">row_index</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">col_index</span><span class="si">}</span><span class="s1">)'</span><span class="p">,</span> <span class="n">values_array</span><span class="p">[</span><span class="n">row_index</span><span class="p">,</span><span class="n">col_index</span><span class="p">])</span>
                                <span class="k">pass</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'(row,col) (</span><span class="si">{</span><span class="n">row_index</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">col_index</span><span class="si">}</span><span class="s1">) with a value of '</span><span class="p">,</span> <span class="n">values_array</span><span class="p">[</span><span class="n">row_index</span><span class="p">,</span> <span class="n">col_index</span><span class="p">])</span>
                                <span class="n">total_sum</span> <span class="o">+=</span> <span class="n">values_array</span><span class="p">[</span><span class="n">row_index</span><span class="p">,</span> <span class="n">col_index</span><span class="p">]</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">'</span><span class="se">\n</span><span class="s1">######################'</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">bool_square</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">'Number of traversed cells'</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">'Peak point to be skipped:'</span><span class="p">,</span> <span class="n">skipped_point</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">'Total sum:'</span><span class="p">,</span><span class="n">total_sum</span><span class="p">)</span>
                <span class="n">avg_values</span> <span class="o">=</span> <span class="n">total_sum</span> <span class="o">/</span> <span class="n">count</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">'Average surrounding peak:'</span><span class="p">,</span><span class="n">avg_values</span><span class="p">)</span>

                <span class="n">build_coord_intensity</span><span class="p">()</span>

                <span class="n">create_scatter</span><span class="p">(</span><span class="n">result_x</span><span class="p">,</span> <span class="n">result_y</span><span class="p">,</span> <span class="n">result_z</span><span class="p">,</span> <span class="n">highlight_x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">highlight_y</span><span class="o">=</span><span class="n">y</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">avg_values</span><span class="p">,</span><span class="n">intensity_peak</span>
                <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">"Invalid coordinate index."</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">"Invalid input. Enter a number or 'q' to quit."</span><span class="p">)</span>
</code></pre></div></div>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="build_coord_intensity">
<code class="sig-name descname">build_coord_intensity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#build_coord_intensity">¶</a></dt>
<dd>
<p>This function builds the intensity peak value for the chosen coordinate, used in the <cite>create_scatter</cite> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A tuple containing four lists: x values, y values, z values, and columns needed for <cite>create_scatter</cite>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple[list, list, list, list]</p>
</dd>
</dl>
<div class="code-wrapper" data-controller="code">
<div class="code-header">
<span class="code-lang">python</span></div>
<div class="highlight"><pre><code><span class="k">def</span> <span class="nf">build_coord_intensity</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">result_x</span><span class="p">,</span> <span class="n">result_y</span><span class="p">,</span> <span class="n">result_z</span><span class="p">,</span> <span class="n">coordinates_and_intensities</span>
    <span class="n">result_z</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">threshold</span> <span class="o">=</span> <span class="n">PeakThresholdProcessor</span><span class="p">(</span><span class="n">image_array</span><span class="p">,</span> <span class="n">threshold_value</span><span class="o">=</span><span class="mf">.01</span><span class="p">)</span>
    <span class="n">coord_above_threshold</span> <span class="o">=</span> <span class="n">threshold</span><span class="o">.</span><span class="n">get_coordinates_above_threshold</span><span class="p">()</span>
    <span class="n">coord_above_threshold</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">coord_above_threshold</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">coord_above_threshold</span><span class="p">:</span>
        <span class="n">result_x</span> <span class="o">=</span> <span class="n">coord_above_threshold</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">result_y</span> <span class="o">=</span> <span class="n">coord_above_threshold</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">result_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">result_x</span><span class="p">)</span>
    <span class="n">result_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">result_y</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">coord_above_threshold</span><span class="p">)):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">result_x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">result_y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">z</span> <span class="o">=</span> <span class="n">image_array</span><span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">]</span>
        <span class="n">result_z</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
    <span class="c1"># creating a coordinate and intensity array to store the values we want to plot.</span>
    <span class="n">coordinates_and_intensities</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">((</span><span class="n">result_x</span><span class="p">,</span> <span class="n">result_y</span><span class="p">,</span> <span class="n">result_z</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">result_x</span><span class="p">,</span> <span class="n">result_y</span><span class="p">,</span> <span class="n">result_z</span><span class="p">,</span> <span class="n">coordinates_and_intensities</span>
</code></pre></div></div>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="create_scatter">
<code class="sig-name descname">create_scatter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">z</span></em>, <em class="sig-param"><span class="n">highlight_x</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">highlight_y</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#create_scatter">¶</a></dt>
<dt class="sig sig-object py">
<code class="sig-name descname">`create_scatter ` creates visualization for chosen highlighted coordinate, using matplotlib.pyplot.</code></dt>
<dd>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>list</em>) – list of x coordinate values.</p></li>
<li><p><strong>y</strong> (<em>list</em>) – list of y coordinate values.</p></li>
<li><p><strong>z</strong> (<em>list</em>) – list of z coordinate values, intensities.</p></li>
<li><p><strong>highlight_x</strong> (<em>int</em>) – The x coordinate of the center of the region.</p></li>
<li><p><strong>highlight_y</strong> (<em>int</em>) – The y coordinate of the center of the region.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</section>
<section id="main-function">
<h2>Main Function<a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#main-function">¶</a></h2>
<p>The <cite>main</cite> function processes image data from specified HDF5 file for 3-ring integration analysis. Calling <cite>coordinate_menu</cite> for increasing radius value.</p>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="main">
<code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#main">¶</a></dt>
<dd>
<blockquote>
<div><p>Loads and processes image data from HDF5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">param filename</dt>
<dd class="field-odd"><p>The path to the HDF5 file containing image data.</p>
</dd>
<dt class="field-even">type filename</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
<p>The function performs the following steps:</p>
<ol class="arabic">
<li><p><strong>File Loading</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>It calls <cite>load_h5</cite> to load the specified HDF5 file.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Image Data Extraction</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Extracts the NumPy array from the HDF5 file, which is 2D array of zeros with shape of (4371, 4150).</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Threshold Processing</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>It calls <cite>PeakThresholdProcessor</cite> and creates object with the extracted array region and a threshold of 1000. Then retrieving the coordinates above this threshold.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Ring Integration Analysis</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Interactively calls <cite>coordinate_menu</cite> for a set of radii (1,2,3,4). And for each value in the list, this calculates and prints the peak estimate by subtracting the average value from the intensity peak value.</p></li>
</ul>
</div></blockquote>
</li>
</ol>
</div></blockquote>
<p>The function sets a global variable <cite>image_array</cite> to store the image data and <cite>coordinates</cite> to store the coordinates above the threshold. The global variable <cite>intensity_peak</cite> and <cite>avg_values</cite> are used to calculate the peak estimates.</p>
<p>The script also defines paths for working with image files and calls the <cite>main</cite> function with different image paths for processing.</p>
</dd></dl>
</section>
</section>
</article>
<footer>
<div class="mt-20 mb-4 text-sm text-gray-700">© 2023, Sabine Botha, Adam Kurth, and more Made with <a href="https://www.sphinx-doc.org">Sphinx 4.5.0</a></div>
</footer></main>
<button class="fixed bottom-0 right-0 z-20 opacity-0 p-4 m-4 tracking-wide bg-gray-900 text-gray-100 transition transform transform-gpu duration-500 translate-y-full" data-action="search#hideSnackbar" data-search-target="snackbar">
  Clear highlights
</button><div class="fixed hidden inset-0 bg-black bg-opacity-50" data-action="click-&gt;sidebar#close" data-sidebar-target="screen">
</div>
</div>
<script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
<script src="_static/jquery.js"></script>
<script src="_static/underscore.js"></script>
<script src="_static/doctools.js"></script>
<script src="_static/theme.3666d2347a4c66e5d7a8.js"></script>
</body>
</html>